var Li=Object.defineProperty;var ia=e=>{throw TypeError(e)};var zi=(e,t,n)=>t in e?Li(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var oa=(e,t,n)=>zi(e,typeof t!="symbol"?t+"":t,n),dr=(e,t,n)=>t.has(e)||ia("Cannot "+n);var Ye=(e,t,n)=>(dr(e,t,"read from private field"),n?n.call(e):t.get(e)),Nt=(e,t,n)=>t.has(e)?ia("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),hr=(e,t,n,r)=>(dr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),sa=(e,t,n)=>(dr(e,t,"access private method"),n);import{c as mn,a as V,t as ye,n as de}from"../chunks/disclose-version.CRUpb_ih.js";import"../chunks/legacy.BB4qWT8z.js";import{h as Me,J as gr,R as Gi,a as $i,a3 as Vi,A as Wi,P as Ga,a5 as ji,a6 as ca,I as mr,K as At,at as hn,a7 as $a,S as Va,a8 as Pi,ab as qi,C as la,au as Nr,av as ua,aw as Ar,ax as Ci,O as Ji,ay as Oi,az as Bi,aA as Wa,E as Hi,L as Fi,B as Ui,aB as Ki,ad as Xi,Y as fa,aC as Zi,F as Qi,aD as eo,a2 as to,aE as no,a9 as ro,d as ao,p as Ne,g as h,aF as x,aG as lt,m as Re,o as Ae,aH as ie,v as $,w as k,t as W,_ as oe,f as y,aI as ge,aJ as io,aK as ut,q as K,ao as _e,aL as oo,aM as so}from"../chunks/runtime.DqmpmPb3.js";import{s as ke}from"../chunks/render.CiHwMsEe.js";import{s as qe,p as m,i as De,b as kt,c as v,d as D}from"../chunks/props.CpECA-PO.js";import{i as Ie}from"../chunks/lifecycle.bMxkMHJ2.js";import{s as it}from"../chunks/slot.5oa_PGP3.js";import{o as ja}from"../chunks/index-client.BDSm6-kq.js";import{w as T,d as P}from"../chunks/index.DxKvfsxG.js";function Et(e,t){return t}function co(e,t,n,r){for(var a=[],i=t.length,o=0;o<i;o++)Ci(t[o].e,a,!0);var s=i>0&&a.length===0&&n!==null;if(s){var l=n.parentNode;Ji(l),l.append(n),r.clear(),Te(e,t[0].prev,t[i-1].next)}Oi(a,()=>{for(var c=0;c<i;c++){var f=t[c];s||(r.delete(f.k),Te(e,f.prev,f.next)),Bi(f.e,!s)}})}function je(e,t,n,r,a,i=null){var o=e,s={flags:t,items:new Map,first:null},l=(t&Wa)!==0;if(l){var c=e;o=Me?gr(Hi(c)):c.appendChild(Gi())}Me&&$i();var f=null,u=!1;Vi(()=>{var d=n(),g=Wi(d)?d:d==null?[]:Ga(d),p=g.length;if(u&&p===0)return;u=p===0;let _=!1;if(Me){var E=o.data===ji;E!==(p===0)&&(o=ca(),gr(o),mr(!1),_=!0)}if(Me){for(var b=null,N,I=0;I<p;I++){if(At.nodeType===8&&At.data===Fi){o=At,_=!0,mr(!1);break}var L=g[I],M=r(L,I);N=Pa(At,s,b,null,L,M,I,a,t),s.items.set(M,N),b=N}p>0&&gr(ca())}if(!Me){var A=Ui;lo(g,s,o,a,t,(A.f&hn)!==0,r)}i!==null&&(p===0?f?$a(f):f=Va(()=>i(o)):f!==null&&Pi(f,()=>{f=null})),_&&mr(!0),n()}),Me&&(o=At)}function lo(e,t,n,r,a,i,o,s){var Y,U,J,ee;var l=(a&Ki)!==0,c=(a&(Nr|Ar))!==0,f=e.length,u=t.items,d=t.first,g=d,p,_=null,E,b=[],N=[],I,L,M,A;if(l)for(A=0;A<f;A+=1)I=e[A],L=o(I,A),M=u.get(L),M!==void 0&&((Y=M.a)==null||Y.measure(),(E??(E=new Set)).add(M));for(A=0;A<f;A+=1){if(I=e[A],L=o(I,A),M=u.get(L),M===void 0){var se=g?g.e.nodes_start:n;_=Pa(se,t,_,_===null?t.first:_.next,I,L,A,r,a),u.set(L,_),b=[],N=[],g=_.next;continue}if(c&&uo(M,I,A,a),M.e.f&hn&&($a(M.e),l&&((U=M.a)==null||U.unfix(),(E??(E=new Set)).delete(M))),M!==g){if(p!==void 0&&p.has(M)){if(b.length<N.length){var B=N[0],q;_=B.prev;var F=b[0],S=b[b.length-1];for(q=0;q<b.length;q+=1)da(b[q],B,n);for(q=0;q<N.length;q+=1)p.delete(N[q]);Te(t,F.prev,S.next),Te(t,_,F),Te(t,S,B),g=B,_=S,A-=1,b=[],N=[]}else p.delete(M),da(M,g,n),Te(t,M.prev,M.next),Te(t,M,_===null?t.first:_.next),Te(t,_,M),_=M;continue}for(b=[],N=[];g!==null&&g.k!==L;)(i||!(g.e.f&hn))&&(p??(p=new Set)).add(g),N.push(g),g=g.next;if(g===null)continue;M=g}b.push(M),_=M,g=M.next}if(g!==null||p!==void 0){for(var z=p===void 0?[]:Ga(p);g!==null;)(i||!(g.e.f&hn))&&z.push(g),g=g.next;var w=z.length;if(w>0){var C=a&Wa&&f===0?n:null;if(l){for(A=0;A<w;A+=1)(J=z[A].a)==null||J.measure();for(A=0;A<w;A+=1)(ee=z[A].a)==null||ee.fix()}co(t,z,C,u)}}l&&qi(()=>{var H;if(E!==void 0)for(M of E)(H=M.a)==null||H.apply()}),la.first=t.first&&t.first.e,la.last=_&&_.e}function uo(e,t,n,r){r&Nr&&ua(e.v,t),r&Ar?ua(e.i,n):e.i=n}function Pa(e,t,n,r,a,i,o,s,l,c){var f=(l&Nr)!==0,u=(l&Zi)===0,d=f?u?Xi(a):fa(a):a,g=l&Ar?fa(o):o,p={i:g,v:d,k:i,a:null,e:null,prev:n,next:r};try{return p.e=Va(()=>s(e,d,g),Me),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?t.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function da(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var o=Qi(i);a.before(i),i=o}}function Te(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function R(e,t,n,r){var a=e.__attributes??(e.__attributes={});Me&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[eo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&fo(e).includes(t)?e[t]=n:e.setAttribute(t,n))}var ha=new Map;function fo(e){var t=ha.get(e.nodeName);if(t)return t;ha.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=no(r);for(var i in n)n[i].set&&t.push(i);r=to(r)}return t}function qa(e,t,n){var r=e.__className,a=ho(t);Me&&e.getAttribute("class")===a?e.__className=a:(r!==a||Me&&e.getAttribute("class")!==a)&&(a===""?e.removeAttribute("class"):e.setAttribute("class",a),e.__className=a)}function ho(e,t){return(e??"")+""}function at(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function ue(e,t,n,r){var a=e.__styles??(e.__styles={});a[t]!==n&&(a[t]=n,n==null?e.style.removeProperty(t):e.style.setProperty(t,n,""))}var Ee,st,$t,Yn,Ca;const Rn=class Rn{constructor(t){Nt(this,Yn);Nt(this,Ee,new WeakMap);Nt(this,st);Nt(this,$t);hr(this,$t,t)}observe(t,n){var r=Ye(this,Ee).get(t)||new Set;return r.add(n),Ye(this,Ee).set(t,r),sa(this,Yn,Ca).call(this).observe(t,Ye(this,$t)),()=>{var a=Ye(this,Ee).get(t);a.delete(n),a.size===0&&(Ye(this,Ee).delete(t),Ye(this,st).unobserve(t))}}};Ee=new WeakMap,st=new WeakMap,$t=new WeakMap,Yn=new WeakSet,Ca=function(){return Ye(this,st)??hr(this,st,new ResizeObserver(t=>{for(var n of t){Rn.entries.set(n.target,n);for(var r of Ye(this,Ee).get(n.target)||[])r(n)}}))},oa(Rn,"entries",new WeakMap);let pr=Rn;var go=new pr({box:"border-box"});function ga(e,t,n){var r=go.observe(e,()=>n(e[t]));ro(()=>(ao(()=>n(e[t])),r))}function mo(e){return e===0?!0:e}function we(e){return mo(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function yr(e,t={}){return Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0&&t[n]===void 0))}function yo(e,t=300){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}}function Dt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ja(e){let t,n,r;e.length!==2?(t=Dt,n=(s,l)=>Dt(e(s),l),r=(s,l)=>e(s)-l):(t=e===Dt||e===vo?e:xo,n=e,r=e);function a(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const u=c+f>>>1;n(s[u],l)<0?c=u+1:f=u}while(c<f)}return c}function i(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const u=c+f>>>1;n(s[u],l)<=0?c=u+1:f=u}while(c<f)}return c}function o(s,l,c=0,f=s.length){const u=a(s,l,c,f-1);return u>c&&r(s[u-1],l)>-r(s[u],l)?u-1:u}return{left:a,center:o,right:i}}function xo(){return 0}function po(e){return e===null?NaN:+e}const Mo=Ja(Dt),_o=Mo.right;Ja(po).center;class ma extends Map{constructor(t,n=Ha){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(Mr(this,t))}has(t){return super.has(Mr(this,t))}set(t,n){return super.set(Oa(this,t),n)}delete(t){return super.delete(Ba(this,t))}}class So extends Set{constructor(t,n=Ha){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Mr(this,t))}add(t){return super.add(Oa(this,t))}delete(t){return super.delete(Ba(this,t))}}function Mr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Oa({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ba({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ha(e){return e!==null&&typeof e=="object"?e.valueOf():e}const bo=Math.sqrt(50),Yo=Math.sqrt(10),Ro=Math.sqrt(2);function yn(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=bo?10:i>=Yo?5:i>=Ro?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?yn(e,t,n*2):[s,l,c]}function No(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?yn(t,e,n):yn(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function _r(e,t,n){return t=+t,e=+e,n=+n,yn(e,t,n)[2]}function Ao(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?_r(t,e,n):_r(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Io(e,t,n={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},a=Object.keys(t),i=a.length;let o,s,l,c,f,u,d;const g=e.length;for(o=0;o<i;o+=1){for(d=new So,c=a[o],f=t[c],s=0;s<g;s+=1)if(u=f(e[s]),Array.isArray(u)){const _=u.length;for(l=0;l<_;l+=1)d.add(u[l])}else d.add(u);const p=Array.from(d);(n.sort===!0||n[c]===!0)&&p.sort(Dt),r[c]=p}return r}function wo(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),a=r.length;let i,o,s,l,c,f,u,d;const g=e.length;for(i=0;i<a;i+=1){for(l=r[i],u=t[l],c=null,f=null,o=0;o<g;o+=1)if(d=u(e[o],o),Array.isArray(d)){const p=d.length;for(s=0;s<p;s+=1)d[s]!==!1&&d[s]!==void 0&&d[s]!==null&&Number.isNaN(d[s])===!1&&((c===null||d[s]<c)&&(c=d[s]),(f===null||d[s]>f)&&(f=d[s]))}else d!==!1&&d!==void 0&&d!==null&&Number.isNaN(d)===!1&&((c===null||d<c)&&(c=d),(f===null||d>f)&&(f=d));n[l]=[c,f]}return n}function wt(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function Fa(e){return!!(typeof e.bandwidth=="function"||wt(Object.keys(e),["domain","range","unknown","copy"]))}function To(e,t,n){const r=Object.entries(n).reduce((i,[o,s])=>{const l=Fa(s.scale)===!0?"ordinal":"other";return i[l]||(i[l]={}),i[l][o]=t[o],i},{ordinal:!1,other:!1});let a={};if(r.ordinal){const i=Object.fromEntries(Object.entries(n).map(([o,s])=>[o,s.sort]));a=Io(e,r.ordinal,i)}return r.other&&(a={...a,...wo(e,r.other)}),a}function Eo(e=[],t){return Array.isArray(t)===!0?t.map((n,r)=>n===null?e[r]:n):e}function an(e){return function([n,r]){return typeof r=="function"&&(r=r(n[e])),n?Eo(n[e],r):r}}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const ya=Symbol("implicit");function Ua(){var e=new ma,t=[],n=[],r=ya;function a(i){let o=e.get(i);if(o===void 0){if(r!==ya)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ma;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Ua(t,n).unknown(r)},Ir.apply(a,arguments),a}function wr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ka(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vt(){}var Lt=.7,vn=1/Lt,ot="\\s*([+-]?\\d+)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Do=/^#([0-9a-f]{3,8})$/,ko=new RegExp(`^rgb\\(${ot},${ot},${ot}\\)$`),Lo=new RegExp(`^rgb\\(${be},${be},${be}\\)$`),zo=new RegExp(`^rgba\\(${ot},${ot},${ot},${zt}\\)$`),Go=new RegExp(`^rgba\\(${be},${be},${be},${zt}\\)$`),$o=new RegExp(`^hsl\\(${zt},${be},${be}\\)$`),Vo=new RegExp(`^hsla\\(${zt},${be},${be},${zt}\\)$`),va={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wr(Vt,Gt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xa,formatHex:xa,formatHex8:Wo,formatHsl:jo,formatRgb:pa,toString:pa});function xa(){return this.rgb().formatHex()}function Wo(){return this.rgb().formatHex8()}function jo(){return Xa(this).formatHsl()}function pa(){return this.rgb().formatRgb()}function Gt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Do.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ma(t):n===3?new fe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?on(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?on(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ko.exec(e))?new fe(t[1],t[2],t[3],1):(t=Lo.exec(e))?new fe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zo.exec(e))?on(t[1],t[2],t[3],t[4]):(t=Go.exec(e))?on(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$o.exec(e))?ba(t[1],t[2]/100,t[3]/100,1):(t=Vo.exec(e))?ba(t[1],t[2]/100,t[3]/100,t[4]):va.hasOwnProperty(e)?Ma(va[e]):e==="transparent"?new fe(NaN,NaN,NaN,0):null}function Ma(e){return new fe(e>>16&255,e>>8&255,e&255,1)}function on(e,t,n,r){return r<=0&&(e=t=n=NaN),new fe(e,t,n,r)}function Po(e){return e instanceof Vt||(e=Gt(e)),e?(e=e.rgb(),new fe(e.r,e.g,e.b,e.opacity)):new fe}function xn(e,t,n,r){return arguments.length===1?Po(e):new fe(e,t,n,r??1)}function fe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wr(fe,xn,Ka(Vt,{brighter(e){return e=e==null?vn:Math.pow(vn,e),new fe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lt:Math.pow(Lt,e),new fe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fe(Pe(this.r),Pe(this.g),Pe(this.b),pn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_a,formatHex:_a,formatHex8:qo,formatRgb:Sa,toString:Sa}));function _a(){return`#${We(this.r)}${We(this.g)}${We(this.b)}`}function qo(){return`#${We(this.r)}${We(this.g)}${We(this.b)}${We((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sa(){const e=pn(this.opacity);return`${e===1?"rgb(":"rgba("}${Pe(this.r)}, ${Pe(this.g)}, ${Pe(this.b)}${e===1?")":`, ${e})`}`}function pn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function We(e){return e=Pe(e),(e<16?"0":"")+e.toString(16)}function ba(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ve(e,t,n,r)}function Xa(e){if(e instanceof ve)return new ve(e.h,e.s,e.l,e.opacity);if(e instanceof Vt||(e=Gt(e)),!e)return new ve;if(e instanceof ve)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new ve(o,s,l,e.opacity)}function Co(e,t,n,r){return arguments.length===1?Xa(e):new ve(e,t,n,r??1)}function ve(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wr(ve,Co,Ka(Vt,{brighter(e){return e=e==null?vn:Math.pow(vn,e),new ve(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lt:Math.pow(Lt,e),new ve(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new fe(vr(e>=240?e-240:e+120,a,r),vr(e,a,r),vr(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ve(Ya(this.h),sn(this.s),sn(this.l),pn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pn(this.opacity);return`${e===1?"hsl(":"hsla("}${Ya(this.h)}, ${sn(this.s)*100}%, ${sn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ya(e){return e=(e||0)%360,e<0?e+360:e}function sn(e){return Math.max(0,Math.min(1,e||0))}function vr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tr=e=>()=>e;function Jo(e,t){return function(n){return e+n*t}}function Oo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Bo(e){return(e=+e)==1?Za:function(t,n){return n-t?Oo(t,n,e):Tr(isNaN(t)?n:t)}}function Za(e,t){var n=t-e;return n?Jo(e,n):Tr(isNaN(e)?t:e)}const Ra=function e(t){var n=Bo(t);function r(a,i){var o=n((a=xn(a)).r,(i=xn(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=Za(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return r.gamma=e,r}(1);function Ho(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Fo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Uo(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Er(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function Ko(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Mn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Xo(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Er(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Sr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xr=new RegExp(Sr.source,"g");function Zo(e){return function(){return e}}function Qo(e){return function(t){return e(t)+""}}function es(e,t){var n=Sr.lastIndex=xr.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Sr.exec(e))&&(a=xr.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Mn(r,a)})),n=xr.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?Qo(l[0].x):Zo(t):(t=l.length,function(c){for(var f=0,u;f<t;++f)s[(u=l[f]).i]=u.x(c);return s.join("")})}function Er(e,t){var n=typeof t,r;return t==null||n==="boolean"?Tr(t):(n==="number"?Mn:n==="string"?(r=Gt(t))?(t=r,Ra):es:t instanceof Gt?Ra:t instanceof Date?Ko:Fo(t)?Ho:Array.isArray(t)?Uo:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Xo:Mn)(e,t)}function ts(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ns(e){return function(){return e}}function rs(e){return+e}var Na=[0,1];function Se(e){return e}function br(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ns(isNaN(t)?NaN:.5)}function as(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function is(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=br(a,r),i=n(o,i)):(r=br(r,a),i=n(i,o)),function(s){return i(r(s))}}function os(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=br(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=_o(e,s,1,r)-1;return i[l](a[l](s))}}function Qa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ei(){var e=Na,t=Na,n=Er,r,a,i,o=Se,s,l,c;function f(){var d=Math.min(e.length,t.length);return o!==Se&&(o=as(e[0],e[d-1])),s=d>2?os:is,l=c=null,u}function u(d){return d==null||isNaN(d=+d)?i:(l||(l=s(e.map(r),t,n)))(r(o(d)))}return u.invert=function(d){return o(a((c||(c=s(t,e.map(r),Mn)))(d)))},u.domain=function(d){return arguments.length?(e=Array.from(d,rs),f()):e.slice()},u.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},u.rangeRound=function(d){return t=Array.from(d),n=ts,f()},u.clamp=function(d){return arguments.length?(o=d?!0:Se,f()):o!==Se},u.interpolate=function(d){return arguments.length?(n=d,f()):n},u.unknown=function(d){return arguments.length?(i=d,u):i},function(d,g){return r=d,a=g,f()}}function ss(){return ei()(Se,Se)}function cs(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _n(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ct(e){return e=_n(Math.abs(e)),e?e[1]:NaN}function ls(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function us(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sn(e){if(!(t=fs.exec(e)))throw new Error("invalid format: "+e);var t;return new Dr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sn.prototype=Dr.prototype;function Dr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Dr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ds(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var ti;function hs(e,t){var n=_n(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(ti=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+_n(e,Math.max(0,t+i-1))[0]}function Aa(e,t){var n=_n(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Ia={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cs,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Aa(e*100,t),r:Aa,s:hs,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wa(e){return e}var Ta=Array.prototype.map,Ea=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gs(e){var t=e.grouping===void 0||e.thousands===void 0?wa:ls(Ta.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?wa:us(Ta.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(u){u=Sn(u);var d=u.fill,g=u.align,p=u.sign,_=u.symbol,E=u.zero,b=u.width,N=u.comma,I=u.precision,L=u.trim,M=u.type;M==="n"?(N=!0,M="g"):Ia[M]||(I===void 0&&(I=12),L=!0,M="g"),(E||d==="0"&&g==="=")&&(E=!0,d="0",g="=");var A=_==="$"?n:_==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",se=_==="$"?r:/[%p]/.test(M)?o:"",B=Ia[M],q=/[defgprs%]/.test(M);I=I===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function F(S){var z=A,w=se,C,Y,U;if(M==="c")w=B(S)+w,S="";else{S=+S;var J=S<0||1/S<0;if(S=isNaN(S)?l:B(Math.abs(S),I),L&&(S=ds(S)),J&&+S==0&&p!=="+"&&(J=!1),z=(J?p==="("?p:s:p==="-"||p==="("?"":p)+z,w=(M==="s"?Ea[8+ti/3]:"")+w+(J&&p==="("?")":""),q){for(C=-1,Y=S.length;++C<Y;)if(U=S.charCodeAt(C),48>U||U>57){w=(U===46?a+S.slice(C+1):S.slice(C))+w,S=S.slice(0,C);break}}}N&&!E&&(S=t(S,1/0));var ee=z.length+S.length+w.length,H=ee<b?new Array(b-ee+1).join(d):"";switch(N&&E&&(S=t(H+S,H.length?b-w.length:1/0),H=""),g){case"<":S=z+S+w+H;break;case"=":S=z+H+S+w;break;case"^":S=H.slice(0,ee=H.length>>1)+z+S+w+H.slice(ee);break;default:S=H+z+S+w;break}return i(S)}return F.toString=function(){return u+""},F}function f(u,d){var g=c((u=Sn(u),u.type="f",u)),p=Math.max(-8,Math.min(8,Math.floor(ct(d)/3)))*3,_=Math.pow(10,-p),E=Ea[8+p/3];return function(b){return g(_*b)+E}}return{format:c,formatPrefix:f}}var cn,kr,ni;ms({thousands:",",grouping:[3],currency:["$",""]});function ms(e){return cn=gs(e),kr=cn.format,ni=cn.formatPrefix,cn}function ys(e){return Math.max(0,-ct(Math.abs(e)))}function vs(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ct(t)/3)))*3-ct(Math.abs(e)))}function xs(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ct(t)-ct(e))+1}function ps(e,t,n,r){var a=Ao(e,t,n),i;switch(r=Sn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=vs(a,o))&&(r.precision=i),ni(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=xs(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=ys(a))&&(r.precision=i-(r.type==="%")*2);break}}return kr(r)}function ri(e){var t=e.domain;return e.ticks=function(n){var r=t();return No(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return ps(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,f=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);f-- >0;){if(c=_r(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function gn(){var e=ss();return e.copy=function(){return Qa(e,gn())},Ir.apply(e,arguments),ri(e)}function Da(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ms(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _s(e){return e<0?-e*e:e*e}function Ss(e){var t=e(Se,Se),n=1;function r(){return n===1?e(Se,Se):n===.5?e(Ms,_s):e(Da(n),Da(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},ri(t)}function ai(){var e=Ss(ei());return e.copy=function(){return Qa(e,ai()).exponent(e.exponent())},Ir.apply(e,arguments),e}function bs(){return ai.apply(null,arguments).exponent(.5)}const Tt={x:gn,y:gn,z:gn,r:bs};function Ys(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function ka(e){return e}function Rs(e){return t=>Math.log(e*t)}function Ns(e){return t=>e*Math.exp(t)}function As(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Is(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function ln(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function ws(e){const t=Ys(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:Rs(n),ground:Ns(n),scaleType:t}}return t==="pow"?{lift:ln(1),ground:ln(1/1),scaleType:t}:t==="sqrt"?{lift:ln(.5),ground:ln(1/.5),scaleType:t}:t==="symlog"?{lift:As(1),ground:Is(1),scaleType:t}:{lift:ka,ground:ka,scaleType:t}}function bn(e){return e.replace(/^\w/,t=>t.toUpperCase())}function ce(e,t=""){return`scale${bn(t)}${bn(e)}`}function ii(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?ce("band"):ce("point");if(wt(Object.keys(e),["domain","range","unknown","copy"]))return ce("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return ce("quantile",t);if(e.thresholds)return ce("quantize",t);if(e.constant)return ce("symlog",t);if(e.base)return ce("log",t);if(e.exponent)return e.exponent()===.5?ce("sqrt",t):ce("pow",t);if(wt(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return ce("threshold");if(wt(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return ce("identity");if(wt(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return ce("radial");if(t)return ce(t);if(e.domain()[0]instanceof Date){const n=new Date;let r;return n.getDay=()=>r="time",n.getUTCDay=()=>r="utc",e.tickFormat(0,"%a")(n),ce(r)}return ce("linear")}const Ts=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Es(e,t){if(typeof e.range!="function")throw new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Ts.includes(ii(e))||Fa(e)===!0)return e.domain();const{lift:n,ground:r}=ws(e),a=e.domain()[0],i=Object.prototype.toString.call(a)==="[object Date]",[o,s]=e.domain().map(g=>n(i?g.getTime():g)),[l,c]=e.range(),f=t[0]||0,u=t[1]||0,d=(s-o)/(Math.abs(c-l)-f-u);return[o-f*d,u*d+s].map(g=>r(i?new Date(g):g))}function Ds(e,t,n,r,a){let i,o;return a===!0?(i=0,o=100):(i=e==="r"?1:0,o=e==="y"?n:e==="r"?25:t),r===!0?[o,i]:[i,o]}function ks(e,t,n,r,a,i){return a?typeof a=="function"?a({width:t,height:n}):a:Ds(e,t,n,r,i)}function un(e){return function([n,r,a,i,o,s,l,c,f,u]){if(r===null)return null;const d=ks(e,l,c,s,f,u),g=n===Tt[e]?n():n.copy();return g.domain(a),(!g.interpolator||typeof g.interpolator=="function"&&g.interpolator().name.startsWith("identity"))&&g.range(d),i&&g.domain(Es(g,i)),(o===!0||typeof o=="number")&&(typeof g.nice=="function"?g.nice(typeof o=="number"?o:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),g}}function fn([e,t]){return(n,r)=>{const a=e(n,r);return Array.isArray(a)?a.map(i=>t(i)):t(a)}}function dn([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const me="    ";function Ls(e){const{r:t,g:n,b:r,opacity:a}=xn(e);return[t,n,r].every(i=>i>=0&&i<=255)?{r:t,g:n,b:r,o:a}:!1}function zs({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Gs(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),$s(e.boundingBox),console.log("Data:"),console.log(me,e.data),e.flatData&&(console.log("flatData:"),console.log(me,e.flatData)),console.log("Scales:"),Object.keys(e.activeGetters).forEach(t=>{Vs(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function $s(e){Object.entries(e).forEach(([t,n])=>{console.log(`${me}${t}:`,n)})}function Vs(e,t,n){const r=ii(t);console.log(`${me}${e}:`),console.log(`${me}${me}Accessor: "${n.toString()}"`),console.log(`${me}${me}Type: ${r}`),La(t,"domain"),La(t,"range"," ")}function La(e,t,n=""){const r=e[t](),a=js(r);a?Ws(a,t,r):console.log(`${me}${me}${bn(t)}:${n}`,r)}function Ws(e,t,n){console.log(`${me}${me}${bn(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function js(e){const t=[],n=e.map((r,a)=>{const i=Ls(r);if(i!==!1){t.push(i);const o=a===e.length-1?" ":"";return`%c ${r}${o}`}return r});return t.length?[`%c[ ${n.join(", ")}`,t.map(r=>`background-color: rgba(${r.r}, ${r.g}, ${r.b}, ${r.o}); color:${zs(r)};`)]:null}var Ps=ye('<div class="layercake-container svelte-vhzpsp"><!></div>');function qs(e,t){Ne(t,!1);const n=qe(),r=()=>v(Le,"$_percentRange",n),a=()=>v(yt,"$_containerWidth",n),i=()=>v(vt,"$_containerHeight",n),o=()=>v(Kn,"$_data",n),s=()=>v(Ot,"$_flatData",n),l=()=>v(xt,"$_x",n),c=()=>v(pt,"$_y",n),f=()=>v(Mt,"$_z",n),u=()=>v(_t,"$_r",n),d=()=>v(Bt,"$_xNice",n),g=()=>v(Ht,"$_yNice",n),p=()=>v(Ft,"$_zNice",n),_=()=>v(Ut,"$_rNice",n),E=()=>v(Kt,"$_xReverse",n),b=()=>v(Xt,"$_yReverse",n),N=()=>v(Zt,"$_zReverse",n),I=()=>v(Qt,"$_rReverse",n),L=()=>v(en,"$_xPadding",n),M=()=>v(tn,"$_yPadding",n),A=()=>v(nn,"$_zPadding",n),se=()=>v(rn,"$_rPadding",n),B=()=>v(or,"$_custom",n),q=()=>v(ir,"$_config",n),F=()=>v(lr,"$box_d",n),S=()=>v(sr,"$activeGetters_d",n),z=()=>v(St,"$xScale_d",n),w=()=>v(bt,"$yScale_d",n),C=()=>v(Yt,"$zScale_d",n),Y=()=>v(Rt,"$rScale_d",n),U=()=>v(ze,"$width_d",n),J=()=>v(Ge,"$height_d",n),ee=()=>v(ra,"$aspectRatio_d",n),H=()=>v(tr,"$_xDomainSort",n),le=()=>v(nr,"$_yDomainSort",n),te=()=>v(rr,"$_zDomainSort",n),X=()=>v(ar,"$_rDomainSort",n),ne=()=>v(cr,"$padding_d",n),j=()=>v(pe,"$extents_d",n),xe=()=>v(Or,"$xDomain_d",n),re=()=>v(Br,"$yDomain_d",n),Q=()=>v(Hr,"$zDomain_d",n),Wt=()=>v(Fr,"$rDomain_d",n),jt=()=>v(Qr,"$xRange_d",n),Nn=()=>v(ea,"$yRange_d",n),ft=()=>v(ta,"$zRange_d",n),Pt=()=>v(na,"$rRange_d",n),Ce=()=>v(Ur,"$xGet_d",n),dt=()=>v(Kr,"$yGet_d",n),li=()=>v(Xr,"$zGet_d",n),ui=()=>v(Zr,"$rGet_d",n),qt=ie(),An=ie(),fi=yo(Gs,200);let In=m(t,"ssr",8,!1),di=m(t,"pointerEvents",8,!0),ht=m(t,"position",8,"relative"),wn=m(t,"percentRange",8,!1),hi=m(t,"width",8,void 0),gi=m(t,"height",8,void 0),Ct=m(t,"containerWidth",28,()=>hi()||100),Jt=m(t,"containerHeight",28,()=>gi()||100),Tn=m(t,"element",12,void 0),Je=m(t,"x",8,void 0),Oe=m(t,"y",8,void 0),Be=m(t,"z",8,void 0),He=m(t,"r",8,void 0),Fe=m(t,"data",24,()=>[]),Ue=m(t,"xDomain",8,void 0),Ke=m(t,"yDomain",8,void 0),Xe=m(t,"zDomain",8,void 0),Ze=m(t,"rDomain",8,void 0),En=m(t,"xNice",8,!1),Dn=m(t,"yNice",8,!1),kn=m(t,"zNice",8,!1),Ln=m(t,"rNice",8,!1),zn=m(t,"xPadding",8,void 0),Gn=m(t,"yPadding",8,void 0),$n=m(t,"zPadding",8,void 0),Vn=m(t,"rPadding",8,void 0),Wn=m(t,"xScale",24,()=>Tt.x),gt=m(t,"yScale",24,()=>Tt.y),jn=m(t,"zScale",24,()=>Tt.z),Pn=m(t,"rScale",24,()=>Tt.r),Qe=m(t,"xRange",8,void 0),et=m(t,"yRange",8,void 0),tt=m(t,"zRange",8,void 0),nt=m(t,"rRange",8,void 0),qn=m(t,"xReverse",8,!1),Cn=m(t,"yReverse",8,void 0),Jn=m(t,"zReverse",8,!1),On=m(t,"rReverse",8,!1),mi=m(t,"xDomainSort",8,!0),yi=m(t,"yDomainSort",8,!0),vi=m(t,"zDomainSort",8,!0),xi=m(t,"rDomainSort",8,!0),Bn=m(t,"padding",24,()=>({})),Hn=m(t,"extents",24,()=>({})),mt=m(t,"flatData",8,void 0),Fn=m(t,"custom",24,()=>({})),Lr=m(t,"debug",8,!1),pi=m(t,"verbose",8,!0),Un=!1;ja(()=>{Un=!0});const G=ie({}),Le=T(wn()),yt=T(Ct()),vt=T(Jt()),zr=T(yr(Hn())),Kn=T(Fe()),Ot=T(mt()||Fe()),Gr=T(Bn()),xt=T(we(Je())),pt=T(we(Oe())),Mt=T(we(Be())),_t=T(we(He())),$r=T(Ue()),Vr=T(Ke()),Wr=T(Xe()),jr=T(Ze()),Bt=T(En()),Ht=T(Dn()),Ft=T(kn()),Ut=T(Ln()),Kt=T(qn()),Xt=T(h(qt)),Zt=T(Jn()),Qt=T(On()),en=T(zn()),tn=T(Gn()),nn=T($n()),rn=T(Vn()),Pr=T(Qe()),qr=T(et()),Cr=T(tt()),Jr=T(nt()),Xn=T(Wn()),Zn=T(gt()),Qn=T(jn()),er=T(Pn()),tr=T(mi()),nr=T(yi()),rr=T(vi()),ar=T(xi()),ir=T(h(G)),or=T(Fn()),sr=P([xt,pt,Mt,_t],([O,Z,he,ae])=>{const $e={};return O&&($e.x=O),Z&&($e.y=Z),he&&($e.z=he),ae&&($e.r=ae),$e}),cr=P([Gr,yt,vt],([O])=>Object.assign({top:0,right:0,bottom:0,left:0},O)),lr=P([yt,vt,cr],([O,Z,he])=>{const ae={};return ae.top=he.top,ae.right=O-he.right,ae.bottom=Z-he.bottom,ae.left=he.left,ae.width=ae.right-ae.left,ae.height=ae.bottom-ae.top,pi()===!0&&(ae.width<=0&&Un===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),ae.height<=0&&Un===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?")),ae}),ze=P([lr],([O])=>O.width),Ge=P([lr],([O])=>O.height),pe=P([Ot,sr,zr,Xn,Zn,er,Qn,tr,nr,rr,ar],([O,Z,he,ae,$e,Ni,Ai,Ii,wi,Ti,Ei])=>{const Di={x:{scale:ae,sort:Ii},y:{scale:$e,sort:wi},r:{scale:Ni,sort:Ei},z:{scale:Ai,sort:Ti}},ur=yr(Z,he),ki=Object.fromEntries(Object.keys(ur).map(fr=>[fr,Di[fr]]));return Object.keys(ur).length>0?{...To(O,ur,ki),...he}:{}}),Or=P([pe,$r],an("x")),Br=P([pe,Vr],an("y")),Hr=P([pe,Wr],an("z")),Fr=P([pe,jr],an("r")),St=P([Xn,pe,Or,en,Bt,Kt,ze,Ge,Pr,Le],un("x")),Ur=P([xt,St],fn),bt=P([Zn,pe,Br,tn,Ht,Xt,ze,Ge,qr,Le],un("y")),Kr=P([pt,bt],fn),Yt=P([Qn,pe,Hr,nn,Ft,Zt,ze,Ge,Cr,Le],un("z")),Xr=P([Mt,Yt],fn),Rt=P([er,pe,Fr,rn,Ut,Qt,ze,Ge,Jr,Le],un("r")),Zr=P([_t,Rt],fn),Mi=P(St,O=>O.domain()),_i=P(bt,O=>O.domain()),Si=P(Yt,O=>O.domain()),bi=P(Rt,O=>O.domain()),Qr=P([St],dn),ea=P([bt],dn),ta=P([Yt],dn),na=P([Rt],dn),ra=P([ze,Ge],([O,Z])=>O/Z);x(()=>(y(Cn()),y(gt())),()=>{oe(qt,typeof Cn()>"u"?typeof gt().bandwidth!="function":Cn())}),x(()=>y(Je()),()=>{Je()&&ge(G,h(G).x=Je())}),x(()=>y(Oe()),()=>{Oe()&&ge(G,h(G).y=Oe())}),x(()=>y(Be()),()=>{Be()&&ge(G,h(G).z=Be())}),x(()=>y(He()),()=>{He()&&ge(G,h(G).r=He())}),x(()=>y(Ue()),()=>{Ue()&&ge(G,h(G).xDomain=Ue())}),x(()=>y(Ke()),()=>{Ke()&&ge(G,h(G).yDomain=Ke())}),x(()=>y(Xe()),()=>{Xe()&&ge(G,h(G).zDomain=Xe())}),x(()=>y(Ze()),()=>{Ze()&&ge(G,h(G).rDomain=Ze())}),x(()=>y(Qe()),()=>{Qe()&&ge(G,h(G).xRange=Qe())}),x(()=>y(et()),()=>{et()&&ge(G,h(G).yRange=et())}),x(()=>y(tt()),()=>{tt()&&ge(G,h(G).zRange=tt())}),x(()=>y(nt()),()=>{nt()&&ge(G,h(G).rRange=nt())}),x(()=>y(wn()),()=>{D(Le,wn())}),x(()=>y(Ct()),()=>{D(yt,Ct())}),x(()=>y(Jt()),()=>{D(vt,Jt())}),x(()=>y(Hn()),()=>{D(zr,yr(Hn()))}),x(()=>y(Fe()),()=>{D(Kn,Fe())}),x(()=>(y(mt()),y(Fe())),()=>{D(Ot,mt()||Fe())}),x(()=>y(Bn()),()=>{D(Gr,Bn())}),x(()=>y(Je()),()=>{D(xt,we(Je()))}),x(()=>y(Oe()),()=>{D(pt,we(Oe()))}),x(()=>y(Be()),()=>{D(Mt,we(Be()))}),x(()=>y(He()),()=>{D(_t,we(He()))}),x(()=>y(Ue()),()=>{D($r,Ue())}),x(()=>y(Ke()),()=>{D(Vr,Ke())}),x(()=>y(Xe()),()=>{D(Wr,Xe())}),x(()=>y(Ze()),()=>{D(jr,Ze())}),x(()=>y(En()),()=>{D(Bt,En())}),x(()=>y(Dn()),()=>{D(Ht,Dn())}),x(()=>y(kn()),()=>{D(Ft,kn())}),x(()=>y(Ln()),()=>{D(Ut,Ln())}),x(()=>y(qn()),()=>{D(Kt,qn())}),x(()=>h(qt),()=>{D(Xt,h(qt))}),x(()=>y(Jn()),()=>{D(Zt,Jn())}),x(()=>y(On()),()=>{D(Qt,On())}),x(()=>y(zn()),()=>{D(en,zn())}),x(()=>y(Gn()),()=>{D(tn,Gn())}),x(()=>y($n()),()=>{D(nn,$n())}),x(()=>y(Vn()),()=>{D(rn,Vn())}),x(()=>y(Qe()),()=>{D(Pr,Qe())}),x(()=>y(et()),()=>{D(qr,et())}),x(()=>y(tt()),()=>{D(Cr,tt())}),x(()=>y(nt()),()=>{D(Jr,nt())}),x(()=>y(Wn()),()=>{D(Xn,Wn())}),x(()=>y(gt()),()=>{D(Zn,gt())}),x(()=>y(jn()),()=>{D(Qn,jn())}),x(()=>y(Pn()),()=>{D(er,Pn())}),x(()=>y(Fn()),()=>{D(or,Fn())}),x(()=>h(G),()=>{D(ir,h(G))}),x(()=>{},()=>{oe(An,{activeGetters:sr,width:ze,height:Ge,percentRange:Le,aspectRatio:ra,containerWidth:yt,containerHeight:vt,x:xt,y:pt,z:Mt,r:_t,custom:or,data:Kn,xNice:Bt,yNice:Ht,zNice:Ft,rNice:Ut,xDomainSort:tr,yDomainSort:nr,zDomainSort:rr,rDomainSort:ar,xReverse:Kt,yReverse:Xt,zReverse:Zt,rReverse:Qt,xPadding:en,yPadding:tn,zPadding:nn,rPadding:rn,padding:cr,flatData:Ot,extents:pe,xDomain:Mi,yDomain:_i,zDomain:Si,rDomain:bi,xRange:Qr,yRange:ea,zRange:ta,rRange:na,config:ir,xScale:St,xGet:Ur,yScale:bt,yGet:Kr,zScale:Yt,zGet:Xr,rScale:Rt,rGet:Zr})}),x(()=>h(An),()=>{io("LayerCake",h(An))}),x(()=>(F(),y(Lr()),y(In()),o(),y(mt()),s(),S(),h(G),z(),w(),C(),Y()),()=>{F()&&Lr()===!0&&(In()===!0||typeof window<"u")&&fi({data:o(),flatData:typeof mt()<"u"?s():null,boundingBox:F(),activeGetters:S(),x:h(G).x,y:h(G).y,z:h(G).z,r:h(G).r,xScale:z(),yScale:w(),zScale:C(),rScale:Y()})}),lt(),Ie();var aa=mn(),Yi=Re(aa);{var Ri=O=>{var Z=Ps(),he=$(Z);it(he,t,"default",{get element(){return Tn()},get width(){return U()},get height(){return J()},get aspectRatio(){return ee()},get containerWidth(){return a()},get containerHeight(){return i()},get activeGetters(){return S()},get percentRange(){return r()},get x(){return l()},get y(){return c()},get z(){return f()},get r(){return u()},get custom(){return B()},get data(){return o()},get xNice(){return d()},get yNice(){return g()},get zNice(){return p()},get rNice(){return _()},get xDomainSort(){return H()},get yDomainSort(){return le()},get zDomainSort(){return te()},get rDomainSort(){return X()},get xReverse(){return E()},get yReverse(){return b()},get zReverse(){return N()},get rReverse(){return I()},get xPadding(){return L()},get yPadding(){return M()},get zPadding(){return A()},get rPadding(){return se()},get padding(){return ne()},get flatData(){return s()},get extents(){return j()},get xDomain(){return xe()},get yDomain(){return re()},get zDomain(){return Q()},get rDomain(){return Wt()},get xRange(){return jt()},get yRange(){return Nn()},get zRange(){return ft()},get rRange(){return Pt()},get config(){return q()},get xScale(){return z()},get xGet(){return Ce()},get yScale(){return w()},get yGet(){return dt()},get zScale(){return C()},get zGet(){return li()},get rScale(){return Y()},get rGet(){return ui()}},null),k(Z),kt(Z,ae=>Tn(ae),()=>Tn()),W(()=>{ue(Z,"position",ht()),ue(Z,"top",ht()==="absolute"?"0":null),ue(Z,"right",ht()==="absolute"?"0":null),ue(Z,"bottom",ht()==="absolute"?"0":null),ue(Z,"left",ht()==="absolute"?"0":null),ue(Z,"pointer-events",di()===!1?"none":null)}),ga(Z,"clientWidth",Ct),ga(Z,"clientHeight",Jt),V(O,Z)};De(Yi,O=>{(In()===!0||typeof window<"u")&&O(Ri)})}V(e,aa),Ae()}var Cs=ye('<div class="layercake-layout-html svelte-1x3xzit"><!></div>');function Js(e,t){Ne(t,!1);const n=qe(),r=()=>v(i,"$padding",n),a=ie(),{padding:i}=ut("LayerCake");let o=m(t,"element",12,void 0),s=m(t,"zIndex",8,void 0),l=m(t,"pointerEvents",8,void 0),c=m(t,"role",8,void 0),f=m(t,"label",8,void 0),u=m(t,"labelledBy",8,void 0),d=m(t,"describedBy",8,void 0);x(()=>(y(c()),y(f()),y(u()),y(d())),()=>{oe(a,c()||(f()||u()||d()?"figure":void 0))}),lt(),Ie();var g=Cs(),p=$(g);it(p,t,"default",{get element(){return o()}},null),k(g),kt(g,_=>o(_),()=>o()),W(()=>{R(g,"role",h(a)),R(g,"aria-label",f()),R(g,"aria-labelledby",u()),R(g,"aria-describedby",d()),ue(g,"z-index",s()),ue(g,"pointer-events",l()===!1?"none":null),ue(g,"top",r().top+"px"),ue(g,"right",r().right+"px"),ue(g,"bottom",r().bottom+"px"),ue(g,"left",r().left+"px")}),V(e,g),Ae()}var Os=ye("<title> </title>"),Bs=de('<svg class="layercake-layout-svg svelte-u84d8d"><!><defs><!></defs><g class="layercake-layout-svg_g"><!></g></svg>');function Hs(e,t){Ne(t,!1);const n=qe(),r=()=>v(_,"$containerWidth",n),a=()=>v(E,"$containerHeight",n),i=()=>v(b,"$padding",n);let o=m(t,"element",12,void 0),s=m(t,"innerElement",12,void 0),l=m(t,"zIndex",8,void 0),c=m(t,"pointerEvents",8,void 0),f=m(t,"viewBox",8,void 0),u=m(t,"label",8,void 0),d=m(t,"labelledBy",8,void 0),g=m(t,"describedBy",8,void 0),p=m(t,"title",8,void 0);const{containerWidth:_,containerHeight:E,padding:b}=ut("LayerCake");Ie();var N=Bs(),I=$(N);it(I,t,"title",{},B=>{var q=mn(),F=Re(q);{var S=z=>{var w=Os(),C=$(w,!0);k(w),W(()=>ke(C,p())),V(z,w)};De(F,z=>{p()&&z(S)})}V(B,q)});var L=K(I),M=$(L);it(M,t,"defs",{},null),k(L);var A=K(L),se=$(A);it(se,t,"default",{get element(){return o()}},null),k(A),kt(A,B=>s(B),()=>s()),k(N),kt(N,B=>o(B),()=>o()),W(()=>{R(N,"viewBox",f()),R(N,"width",r()),R(N,"height",a()),R(N,"aria-label",u()),R(N,"aria-labelledby",d()),R(N,"aria-describedby",g()),ue(N,"z-index",l()),ue(N,"pointer-events",c()===!1?"none":null),R(A,"transform",`translate(${i().left??""}, ${i().top??""})`)}),V(e,N),Ae()}function rt(e){return function(){return e}}const Yr=Math.PI,Rr=2*Yr,Ve=1e-6,Fs=Rr-Ve;function oi(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Us(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return oi;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Ks{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?oi:Us(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,f=o-t,u=s-n,d=f*f+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Ve)if(!(Math.abs(u*l-c*f)>Ve)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,p=a-s,_=l*l+c*c,E=g*g+p*p,b=Math.sqrt(_),N=Math.sqrt(d),I=i*Math.tan((Yr-Math.acos((_+d-E)/(2*b*N)))/2),L=I/N,M=I/b;Math.abs(L-1)>Ve&&this._append`L${t+L*f},${n+L*u}`,this._append`A${i},${i},0,0,${+(u*g>f*p)},${this._x1=t+M*l},${this._y1=n+M*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,f=n+l,u=1^o,d=o?a-i:i-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Ve||Math.abs(this._y1-f)>Ve)&&this._append`L${c},${f}`,r&&(d<0&&(d=d%Rr+Rr),d>Fs?this._append`A${r},${r},0,1,${u},${t-s},${n-l}A${r},${r},0,1,${u},${this._x1=c},${this._y1=f}`:d>Ve&&this._append`A${r},${r},0,${+(d>=Yr)},${u},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Xs(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Ks(t)}function Zs(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function si(e){this._context=e}si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ci(e){return new si(e)}function Qs(e){return e[0]}function ec(e){return e[1]}function tc(e,t){var n=rt(!0),r=null,a=ci,i=null,o=Xs(s);e=typeof e=="function"?e:e===void 0?Qs:rt(e),t=typeof t=="function"?t:t===void 0?ec:rt(t);function s(l){var c,f=(l=Zs(l)).length,u,d=!1,g;for(r==null&&(i=a(g=o())),c=0;c<=f;++c)!(c<f&&n(u=l[c],c,l))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(u,c,l),+t(u,c,l));if(g)return i=null,g+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:rt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:rt(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:rt(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}var nc=de('<path class="path-line svelte-tqv5lw"></path>'),rc=de('<g class="line-group"></g>');function ac(e,t){Ne(t,!1);const n=qe(),r=()=>v(c,"$xGet",n),a=()=>v(f,"$yGet",n),i=()=>v(l,"$data",n),o=()=>v(u,"$zGet",n),s=ie(),{data:l,xGet:c,yGet:f,zGet:u}=ut("LayerCake");let d=m(t,"curve",8,ci);x(()=>(r(),a(),y(d())),()=>{oe(s,tc().x(r()).y(a()).curve(d()))}),lt(),Ie();var g=rc();je(g,5,i,Et,(p,_)=>{var E=nc();W(()=>R(E,"d",h(s)(h(_).values))),W(()=>R(E,"stroke",o()(h(_)))),V(p,E)}),k(g),V(e,g),Ae()}var ic=de('<line class="baseline svelte-1ezueh" x1="0"></line>'),oc=de('<line class="gridline svelte-1ezueh" y2="0"></line>'),sc=de('<line class="tick-mark svelte-1ezueh"></line>'),cc=de('<!><g><!><!><text class="svelte-1ezueh"> </text></g>',1),lc=de('<g class="axis x-axis svelte-1ezueh"></g>');function uc(e,t){Ne(t,!1);const n=qe(),r=()=>v(g,"$xScale",n),a=()=>v(d,"$height",n),i=()=>v(u,"$width",n),o=()=>v(p,"$yRange",n),s=ie(),l=ie(),c=ie(),f=ie(),{width:u,height:d,xScale:g,yRange:p}=ut("LayerCake");let _=m(t,"tickMarks",8,!1),E=m(t,"gridlines",8,!0),b=m(t,"tickMarkLength",8,6),N=m(t,"baseline",8,!1),I=m(t,"snapLabels",8,!1),L=m(t,"format",8,S=>S),M=m(t,"ticks",8,void 0),A=m(t,"tickGutter",8,0),se=m(t,"dx",8,0),B=m(t,"dy",8,12);function q(S,z){if(z===!0){if(S===0)return"start";if(S===h(c).length-1)return"end"}return"middle"}x(()=>(y(_()),y(b())),()=>{oe(s,_()===!0?b()??6:0)}),x(()=>r(),()=>{oe(l,typeof r().bandwidth=="function")}),x(()=>(y(M()),h(l),r()),()=>{oe(c,Array.isArray(M())?M():h(l)?r().domain():typeof M()=="function"?M()(r().ticks()):r().ticks(M()))}),x(()=>(h(l),r()),()=>{oe(f,h(l)?r().bandwidth()/2:0)}),lt(),Ie();var F=lc();je(F,7,()=>h(c),S=>S,(S,z,w)=>{var C=cc(),Y=Re(C);{var U=re=>{var Q=ic();W(()=>{R(Q,"y1",a()),R(Q,"y2",a()),R(Q,"x2",i())}),V(re,Q)};De(Y,re=>{N()===!0&&re(U)})}var J=K(Y);const ee=_e(()=>r()(h(z))??""),H=_e(()=>Math.max(...o())??"");W(()=>R(J,"transform",`translate(${h(ee)},${h(H)})`));var le=$(J);{var te=re=>{var Q=oc();W(()=>{R(Q,"x1",h(f)),R(Q,"x2",h(f)),R(Q,"y1",-a())}),V(re,Q)};De(le,re=>{E()===!0&&re(te)})}var X=K(le);{var ne=re=>{var Q=sc();W(()=>{R(Q,"x1",h(f)),R(Q,"x2",h(f)),R(Q,"y1",A()),R(Q,"y2",A()+h(s))}),V(re,Q)};De(X,re=>{_()===!0&&re(ne)})}var j=K(X);W(()=>R(j,"text-anchor",q(h(w),I())));var xe=$(j,!0);W(()=>ke(xe,L()(h(z)))),k(j),k(J),W(()=>{qa(J,`tick tick-${h(w)??""} svelte-1ezueh`),R(j,"x",h(f)),R(j,"y",A()+h(s)),R(j,"dx",se()),R(j,"dy",B())}),V(S,C)}),k(F),W(()=>at(F,"snapLabels",I())),V(e,F),Ae()}var fc=de('<line class="gridline svelte-1jg5nf1"></line>'),dc=de('<line class="tick-mark svelte-1jg5nf1"></line>'),hc=de('<g><!><!><text class="svelte-1jg5nf1"> </text></g>'),gc=de('<g class="axis y-axis"></g>');function mc(e,t){Ne(t,!1);const n=qe(),r=()=>v(p,"$yScale",n),a=()=>v(g,"$xRange",n),i=()=>v(_,"$width",n),o=ie(),s=ie(),l=ie(),c=ie(),f=ie(),u=ie(),d=ie(),{xRange:g,yScale:p,width:_}=ut("LayerCake");let E=m(t,"tickMarks",8,!1),b=m(t,"labelPosition",8,"even"),N=m(t,"snapBaselineLabel",8,!1),I=m(t,"gridlines",8,!0),L=m(t,"tickMarkLength",8,void 0),M=m(t,"format",8,w=>w),A=m(t,"ticks",8,4),se=m(t,"tickGutter",8,0),B=m(t,"dx",8,0),q=m(t,"dy",8,0),F=m(t,"charPixelWidth",8,7.25);function S(w,C){return C===","||C==="."?w+F()*.5:w+F()}x(()=>r(),()=>{oe(o,typeof r().bandwidth=="function")}),x(()=>(y(A()),h(o),r()),()=>{oe(s,Array.isArray(A())?A():h(o)?r().domain():typeof A()=="function"?A()(r().ticks()):r().ticks(A()))}),x(()=>(h(s),y(M())),()=>{oe(c,Math.max(10,Math.max(...h(s).map(w=>M()(w).toString().split("").reduce(S,0)))))}),x(()=>(y(E()),y(b()),y(L()),h(c)),()=>{oe(l,E()===!0?b()==="above"?L()??h(c):L()??6:0)}),x(()=>(y(se()),y(b()),h(c),h(l)),()=>{oe(f,-se()-(b()==="above"?h(c):h(l)))}),x(()=>(h(o),r()),()=>{oe(u,h(o)?r().bandwidth()/2:0)}),x(()=>(h(s),r()),()=>{oe(d,Math.max(...h(s).map(r())))}),lt(),Ie();var z=gc();je(z,5,()=>h(s),w=>w,(w,C)=>{var Y=hc();const U=_e(()=>r()(h(C)));var J=$(Y);{var ee=ne=>{var j=fc();W(()=>{R(j,"x1",h(f)),R(j,"x2",i()),R(j,"y1",h(u)),R(j,"y2",h(u))}),V(ne,j)};De(J,ne=>{I()===!0&&ne(ee)})}var H=K(J);{var le=ne=>{var j=dc();W(()=>{R(j,"x1",h(f)),R(j,"x2",h(f)+h(l)),R(j,"y1",h(u)),R(j,"y2",h(u))}),V(ne,j)};De(H,ne=>{E()===!0&&ne(le)})}var te=K(H),X=$(te,!0);W(()=>ke(X,M()(h(C)))),k(te),k(Y),W(()=>{qa(Y,`tick tick-${h(C)??""} svelte-1jg5nf1`),R(Y,"transform",`translate(${a()[0]??""}, ${h(U)??""})`),R(te,"x",h(f)),R(te,"y",h(u)),R(te,"dx",B()+(b()==="even"?-3:0)),R(te,"text-anchor",b()==="above"?"start":"end"),R(te,"dy",q()+(b()==="above"||N()===!0&&h(U)===h(d)?-3:4))}),V(w,Y)}),k(z),V(e,z),Ae()}var yc=ye('<div class="legend-item svelte-14mlpw8"><span class="color-box svelte-14mlpw8"></span> <span class="label svelte-14mlpw8"> </span></div>'),vc=ye('<div class="legend svelte-14mlpw8"></div>');function xc(e,t){Ne(t,!1);const n=qe(),r=()=>v(o,"$data",n),a=()=>v(l,"$zScale",n),i=()=>v(s,"$z",n),{data:o,z:s,zScale:l}=ut("LayerCake");Ie();var c=vc();je(c,5,r,Et,(f,u)=>{var d=yc(),g=$(d);const p=_e(()=>`background-color: ${a()(i()(h(u)))??""};`);var _=K(g,2),E=$(_,!0);W(()=>ke(E,i()(h(u)))),k(_),k(d),W(()=>R(g,"style",h(p))),V(f,d)}),k(c),V(e,c),Ae()}var pc=ye('<section class="front-layout svelte-1jthc7t"><div class="front-img svelte-1jthc7t"><img alt="Descriptive Alt Text" class="svelte-1jthc7t"></div> <div class="front-text svelte-1jthc7t"><h1 class="svelte-1jthc7t"> </h1> <p class="svelte-1jthc7t"> </p></div></section>');function Mc(e,t){let n=m(t,"frontImgUrl",8,"./src/routes/_img/baltimore_oyster.jpg"),r=m(t,"title",8,"Unloading oyster luggers"),a=m(t,"description",8,"Oyster Wars of the Chesapeake Bay");var i=pc(),o=$(i),s=$(o);k(o);var l=K(o,2),c=$(l),f=$(c,!0);k(c);var u=K(c,2),d=$(u,!0);k(u),k(l),k(i),W(()=>{R(s,"src",n()),ke(f,r()),ke(d,a())}),V(e,i)}var _c=ye("<div><!></div>");function za(e,t){Ne(t,!1);let n=m(t,"root",8,null),r=m(t,"top",8,0),a=m(t,"bottom",8,0),i=m(t,"increments",8,100),o=m(t,"value",12,void 0);const s=[],l=[];let c=[],f=[],u=ie();const d=()=>{c.length&&c.forEach(p)},g=()=>{let b=0,N=0;for(let I=0;I<s.length;I++)s[I]>b&&(b=s[I],N=I);b>0?o(N):o(void 0)},p=(b,N)=>{const I=q=>{q[0].isIntersecting;const F=q[0].intersectionRatio;s[N]=F,g()},L=r()?r()*-1:0,M=a()?a()*-1:0,A=`${L}px 0px ${M}px 0px`,se={root:n(),rootMargin:A,threshold:l};f[N]&&f[N].disconnect();const B=new IntersectionObserver(I,se);B.observe(b),f[N]=B};ja(()=>{for(let b=0;b<i()+1;b++)l.push(b/i());c=h(u).querySelectorAll(":scope > *"),d()}),x(()=>(y(r()),y(a())),()=>{r(),a(),d()}),lt(),Ie();var _=_c(),E=$(_);it(E,t,"default",{},null),k(_),kt(_,b=>oe(u,b),()=>h(u)),V(e,_),Ae()}const It=[{Year:2023,State:"MARYLAND","Metric Tons":872},{Year:2023,State:"VIRGINIA","Metric Tons":1980},{Year:2022,State:"MARYLAND","Metric Tons":802},{Year:2022,State:"VIRGINIA","Metric Tons":2009},{Year:2021,State:"MARYLAND","Metric Tons":631},{Year:2021,State:"VIRGINIA","Metric Tons":1648},{Year:2020,State:"MARYLAND","Metric Tons":425},{Year:2020,State:"VIRGINIA","Metric Tons":1352},{Year:2019,State:"MARYLAND","Metric Tons":298},{Year:2019,State:"VIRGINIA","Metric Tons":1558},{Year:2018,State:"MARYLAND","Metric Tons":211},{Year:2018,State:"VIRGINIA","Metric Tons":1724},{Year:2017,State:"MARYLAND","Metric Tons":305},{Year:2017,State:"VIRGINIA","Metric Tons":1854},{Year:2016,State:"MARYLAND","Metric Tons":402},{Year:2016,State:"VIRGINIA","Metric Tons":1849},{Year:2015,State:"MARYLAND","Metric Tons":540},{Year:2015,State:"VIRGINIA","Metric Tons":2081},{Year:2014,State:"MARYLAND","Metric Tons":543},{Year:2014,State:"VIRGINIA","Metric Tons":1708},{Year:2013,State:"MARYLAND","Metric Tons":637},{Year:2013,State:"VIRGINIA","Metric Tons":1471},{Year:2012,State:"MARYLAND","Metric Tons":278},{Year:2012,State:"VIRGINIA","Metric Tons":885},{Year:2011,State:"MARYLAND","Metric Tons":161},{Year:2011,State:"VIRGINIA","Metric Tons":687},{Year:2010,State:"MARYLAND","Metric Tons":185},{Year:2010,State:"VIRGINIA","Metric Tons":534},{Year:2009,State:"MARYLAND","Metric Tons":226},{Year:2009,State:"VIRGINIA","Metric Tons":364},{Year:2008,State:"MARYLAND","Metric Tons":113},{Year:2008,State:"NEW JERSEY","Metric Tons":250},{Year:2008,State:"VIRGINIA","Metric Tons":348},{Year:2007,State:"MARYLAND","Metric Tons":144},{Year:2007,State:"VIRGINIA","Metric Tons":843},{Year:2006,State:"MARYLAND","Metric Tons":124},{Year:2006,State:"NEW JERSEY","Metric Tons":156},{Year:2006,State:"VIRGINIA","Metric Tons":0},{Year:2005,State:"MARYLAND","Metric Tons":335},{Year:2005,State:"NEW JERSEY","Metric Tons":73},{Year:2004,State:"MARYLAND","Metric Tons":19},{Year:2004,State:"NEW JERSEY","Metric Tons":147},{Year:2004,State:"VIRGINIA","Metric Tons":20},{Year:2003,State:"MARYLAND","Metric Tons":72},{Year:2003,State:"NEW JERSEY","Metric Tons":324},{Year:2003,State:"VIRGINIA","Metric Tons":35},{Year:2002,State:"MARYLAND","Metric Tons":257},{Year:2002,State:"NEW JERSEY","Metric Tons":172},{Year:2002,State:"VIRGINIA","Metric Tons":44},{Year:2001,State:"MARYLAND","Metric Tons":578},{Year:2001,State:"NEW JERSEY","Metric Tons":187},{Year:2001,State:"VIRGINIA","Metric Tons":95},{Year:2e3,State:"MARYLAND","Metric Tons":1074},{Year:2e3,State:"NEW JERSEY","Metric Tons":92},{Year:2e3,State:"VIRGINIA","Metric Tons":74},{Year:1999,State:"MARYLAND","Metric Tons":1107},{Year:1999,State:"NEW JERSEY","Metric Tons":187},{Year:1999,State:"VIRGINIA","Metric Tons":157},{Year:1998,State:"MARYLAND","Metric Tons":1116},{Year:1998,State:"NEW JERSEY","Metric Tons":319},{Year:1998,State:"VIRGINIA","Metric Tons":101},{Year:1997,State:"MARYLAND","Metric Tons":648},{Year:1997,State:"NEW JERSEY","Metric Tons":269},{Year:1997,State:"VIRGINIA","Metric Tons":138},{Year:1996,State:"MARYLAND","Metric Tons":403},{Year:1996,State:"NEW JERSEY","Metric Tons":156},{Year:1996,State:"VIRGINIA","Metric Tons":72},{Year:1995,State:"MARYLAND","Metric Tons":543},{Year:1995,State:"NEW JERSEY","Metric Tons":71},{Year:1995,State:"VIRGINIA","Metric Tons":181},{Year:1994,State:"MARYLAND","Metric Tons":371},{Year:1994,State:"VIRGINIA","Metric Tons":136},{Year:1993,State:"MARYLAND","Metric Tons":75},{Year:1993,State:"VIRGINIA","Metric Tons":185},{Year:1992,State:"MARYLAND","Metric Tons":666},{Year:1992,State:"NEW JERSEY","Metric Tons":15},{Year:1992,State:"VIRGINIA","Metric Tons":329},{Year:1991,State:"MARYLAND","Metric Tons":761},{Year:1991,State:"NEW JERSEY","Metric Tons":95},{Year:1991,State:"VIRGINIA","Metric Tons":773},{Year:1990,State:"MARYLAND","Metric Tons":1307},{Year:1990,State:"NEW JERSEY","Metric Tons":227},{Year:1990,State:"VIRGINIA","Metric Tons":741},{Year:1989,State:"MARYLAND","Metric Tons":1056},{Year:1989,State:"VIRGINIA","Metric Tons":896},{Year:1988,State:"MARYLAND","Metric Tons":1093},{Year:1988,State:"VIRGINIA","Metric Tons":1328},{Year:1987,State:"MARYLAND","Metric Tons":1734},{Year:1987,State:"NEW JERSEY","Metric Tons":7},{Year:1987,State:"VIRGINIA","Metric Tons":2189},{Year:1986,State:"MARYLAND","Metric Tons":3611},{Year:1986,State:"NEW JERSEY","Metric Tons":48},{Year:1986,State:"VIRGINIA","Metric Tons":2622},{Year:1985,State:"MARYLAND","Metric Tons":3900},{Year:1985,State:"NEW JERSEY","Metric Tons":133},{Year:1985,State:"VIRGINIA","Metric Tons":2052},{Year:1984,State:"MARYLAND","Metric Tons":3648},{Year:1984,State:"NEW JERSEY","Metric Tons":358},{Year:1984,State:"VIRGINIA","Metric Tons":1960},{Year:1983,State:"MARYLAND","Metric Tons":3377},{Year:1983,State:"NEW JERSEY","Metric Tons":320},{Year:1983,State:"VIRGINIA","Metric Tons":1902},{Year:1982,State:"MARYLAND","Metric Tons":5568},{Year:1982,State:"NEW JERSEY","Metric Tons":291},{Year:1982,State:"VIRGINIA","Metric Tons":2381},{Year:1981,State:"MARYLAND","Metric Tons":7131},{Year:1981,State:"NEW JERSEY","Metric Tons":203},{Year:1981,State:"VIRGINIA","Metric Tons":2669},{Year:1980,State:"MARYLAND","Metric Tons":6779},{Year:1980,State:"NEW JERSEY","Metric Tons":343},{Year:1980,State:"VIRGINIA","Metric Tons":3559},{Year:1979,State:"MARYLAND","Metric Tons":6119},{Year:1979,State:"NEW JERSEY","Metric Tons":760},{Year:1979,State:"VIRGINIA","Metric Tons":3718},{Year:1978,State:"MARYLAND","Metric Tons":6520},{Year:1978,State:"NEW JERSEY","Metric Tons":704},{Year:1978,State:"VIRGINIA","Metric Tons":3668},{Year:1977,State:"MARYLAND","Metric Tons":5910},{Year:1977,State:"NEW JERSEY","Metric Tons":556},{Year:1977,State:"VIRGINIA","Metric Tons":2261},{Year:1976,State:"MARYLAND","Metric Tons":6750},{Year:1976,State:"NEW JERSEY","Metric Tons":636},{Year:1976,State:"VIRGINIA","Metric Tons":2760},{Year:1975,State:"MARYLAND","Metric Tons":7440},{Year:1975,State:"NEW JERSEY","Metric Tons":441},{Year:1975,State:"VIRGINIA","Metric Tons":2829},{Year:1974,State:"MARYLAND","Metric Tons":8294},{Year:1974,State:"NEW JERSEY","Metric Tons":458},{Year:1974,State:"VIRGINIA","Metric Tons":3056},{Year:1973,State:"MARYLAND","Metric Tons":9263},{Year:1973,State:"NEW JERSEY","Metric Tons":634},{Year:1973,State:"VIRGINIA","Metric Tons":2259},{Year:1972,State:"MARYLAND","Metric Tons":8642},{Year:1972,State:"NEW JERSEY","Metric Tons":778},{Year:1972,State:"VIRGINIA","Metric Tons":2275},{Year:1971,State:"MARYLAND","Metric Tons":7764},{Year:1971,State:"NEW JERSEY","Metric Tons":395},{Year:1971,State:"VIRGINIA","Metric Tons":3829},{Year:1970,State:"MARYLAND","Metric Tons":7541},{Year:1970,State:"NEW JERSEY","Metric Tons":307},{Year:1970,State:"VIRGINIA","Metric Tons":3648},{Year:1969,State:"MARYLAND","Metric Tons":6677},{Year:1969,State:"NEW JERSEY","Metric Tons":480},{Year:1969,State:"VIRGINIA","Metric Tons":3373},{Year:1968,State:"MARYLAND","Metric Tons":6747},{Year:1968,State:"NEW JERSEY","Metric Tons":599},{Year:1968,State:"VIRGINIA","Metric Tons":3540},{Year:1967,State:"MARYLAND","Metric Tons":7589},{Year:1967,State:"NEW JERSEY","Metric Tons":466},{Year:1967,State:"VIRGINIA","Metric Tons":4113},{Year:1966,State:"MARYLAND","Metric Tons":5347},{Year:1966,State:"NEW JERSEY","Metric Tons":315},{Year:1966,State:"VIRGINIA","Metric Tons":4283},{Year:1965,State:"MARYLAND","Metric Tons":3910},{Year:1965,State:"NEW JERSEY","Metric Tons":237},{Year:1965,State:"VIRGINIA","Metric Tons":5701},{Year:1964,State:"MARYLAND","Metric Tons":3605},{Year:1964,State:"NEW JERSEY","Metric Tons":498},{Year:1964,State:"VIRGINIA","Metric Tons":6418},{Year:1963,State:"MARYLAND","Metric Tons":3518},{Year:1963,State:"NEW JERSEY","Metric Tons":234},{Year:1963,State:"VIRGINIA","Metric Tons":4771},{Year:1962,State:"MARYLAND","Metric Tons":3691},{Year:1962,State:"NEW JERSEY","Metric Tons":705},{Year:1962,State:"VIRGINIA","Metric Tons":5352},{Year:1961,State:"MARYLAND","Metric Tons":4689},{Year:1961,State:"NEW JERSEY","Metric Tons":499},{Year:1961,State:"VIRGINIA","Metric Tons":7785},{Year:1960,State:"MARYLAND","Metric Tons":5339},{Year:1960,State:"NEW JERSEY","Metric Tons":76},{Year:1960,State:"VIRGINIA","Metric Tons":6958},{Year:1959,State:"MARYLAND","Metric Tons":5428},{Year:1959,State:"NEW JERSEY","Metric Tons":93},{Year:1959,State:"VIRGINIA","Metric Tons":9687},{Year:1958,State:"MARYLAND","Metric Tons":5455},{Year:1958,State:"NEW JERSEY","Metric Tons":376},{Year:1958,State:"VIRGINIA","Metric Tons":11568},{Year:1957,State:"MARYLAND","Metric Tons":6683},{Year:1957,State:"NEW JERSEY","Metric Tons":1234},{Year:1957,State:"VIRGINIA","Metric Tons":9113},{Year:1956,State:"MARYLAND","Metric Tons":7187},{Year:1956,State:"NEW JERSEY","Metric Tons":2496},{Year:1956,State:"VIRGINIA","Metric Tons":9625},{Year:1955,State:"MARYLAND","Metric Tons":7834},{Year:1955,State:"NEW JERSEY","Metric Tons":2361},{Year:1955,State:"VIRGINIA","Metric Tons":9959},{Year:1954,State:"MARYLAND","Metric Tons":9237},{Year:1954,State:"NEW JERSEY","Metric Tons":3324},{Year:1954,State:"VIRGINIA","Metric Tons":9627},{Year:1953,State:"MARYLAND","Metric Tons":7908},{Year:1953,State:"NEW JERSEY","Metric Tons":3849},{Year:1953,State:"VIRGINIA","Metric Tons":8850},{Year:1952,State:"MARYLAND","Metric Tons":7388},{Year:1952,State:"NEW JERSEY","Metric Tons":3626},{Year:1952,State:"VIRGINIA","Metric Tons":8224},{Year:1951,State:"MARYLAND","Metric Tons":6587},{Year:1951,State:"NEW JERSEY","Metric Tons":2613},{Year:1951,State:"VIRGINIA","Metric Tons":6839},{Year:1950,State:"MARYLAND","Metric Tons":6535},{Year:1950,State:"NEW JERSEY","Metric Tons":3285},{Year:1950,State:"VIRGINIA","Metric Tons":7052}];var Sc=de('<rect y="0" fill="rgba(128, 128, 128, 0.2)"></rect><line y1="0" stroke="black" stroke-dasharray="5,5" stroke-width="2"></line>',1),bc=de("<!><!><!><!>",1),Yc=ye("<!> <!>",1),Rc=ye('<div class="step svelte-1sjs5qs"><div class="step-content svelte-1sjs5qs"><p> </p></div></div>'),Nc=ye("<p> </p>"),Ac=ye('<div class="step svelte-1sjs5qs"><div class="step-content svelte-1sjs5qs"></div></div>'),Ic=ye(`<link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""> <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,wght@0,400;1,400&amp;family=Zen+Antique+Soft&amp;display=swap" rel="stylesheet"> <!> <div class="image-credit svelte-1sjs5qs">Photograph by Mandy Henry, courtesy of Unsplash</div> <div class="page-container svelte-1sjs5qs"><div class="metadata svelte-1sjs5qs"><div class="credit-line svelte-1sjs5qs"><strong>By <a href="https://jinpengli.com" class="link svelte-1sjs5qs" target="_blank" rel="noopener noreferrer">Jinpeng Li</a></strong></div> <div class="publish-date svelte-1sjs5qs">Jan 2025</div></div> <div class="text-section svelte-1sjs5qs"><p>The first night I was in Baltimore for the National Institute for Computer-Assisted Reporting
			(NICAR), Krystal and I wandered into a local restaurant to try the crab cake and oysters.
			“Texas might have oysters from the Gulf of Mexico,” she said, “but East Coast oysters are
			meaty, sweet, and unlike anything you’ve ever tasted. Try them, and I promise you’ll never
			look at oysters the same way again.”</p> <p>People often associate oysters with the city’s upscale raw bars or elaborate seafood towers,
			but oysters were once abundant throughout the Chesapeake Bay. In the 1880s, the Bay supplied
			nearly half of the world’s annual oyster demand, with scholars comparing the harvesting frenzy
			to the California Gold Rush.</p> <p>Unfortunately, like the Gold Rush, this wealth was also fleeting. By the turn of the 20th
			century, natural oyster habitats had been greatly diminished thanks to overharvesting,
			pollution, and disease, and they have since continued to deplete. The native oyster population
			has dropped to a shocking 1% of its historical levels over the past decades in Maryland.</p> <p>But losing oysters translates to more than just the rising prices of a delicacy on the dinner
			table. It also signifies a loss of a natural filter that is critical to the health of our
			seawater. According to Marine conservationists, each adult oyster can filter up to 50 gallons
			of water a day, and an oyster bed can reduce the force of waves on wetlands, which protects
			coastlines from erosion.</p> <p>To counteract this decline, Maryland Department of Natural Resources (DNR) began building
			sanctuaries and seeding Chesapeake Bay with young oysters. Thanks to their efforts, the
			oysters are making a comeback.</p> <h2>Pushed Hard</h2> <p>MDNR has made two key efforts, one of which was expanding the restoration sanctuaries in 2010.</p> <p>Sanctuaries permanently close oyster beds to harvesting except in specific aquaculture lease
			sites, allowing oysters to grow undisturbed. The goal of this preservation is to build a
			strong breeding population of oysters that will build the reefs which provide crucial habitats
			for other bay species.</p></div> <div class="content-container svelte-1sjs5qs"><div class="chart-container svelte-1sjs5qs"><!></div> <div class="scrolly-container svelte-1sjs5qs"><!></div></div> <div class="text-section svelte-1sjs5qs"><p>In 2014, Maryland partnered with NOAA and other nonprofit organization to launch the Oyster
			Restoration Plan. This initiative targeted 10 Chesapeake Bay tributaries and was committed to
			rebuilding oyster reefs by creating a substrate base and planting hatchery-produced juvenile
			oysters or seeding remnant reefs.</p> <p>Data from MDNR shows that Maryland's oyster planting efforts date back to 1953. Various
			methods are used to restore oyster beds, including planting oyster seeds and placing shells.</p></div> <div class="content-container svelte-1sjs5qs"><div class="image-container svelte-1sjs5qs"><img src="./_img/map-1.png" alt="Map step 1" class="svelte-1sjs5qs"> <img src="./_img/map-2.png" alt="Map step 2" class="svelte-1sjs5qs"> <img src="./_img/map-3.png" alt="Map step 3" class="svelte-1sjs5qs"></div> <div class="scrolly-container svelte-1sjs5qs"><!></div></div> <div class="text-section svelte-1sjs5qs"><p>“We’re making significant progress,” the NOAA announced in a press release on their website.
			“Through the end of 2023, our team has planted 6.85 billion oyster seeds in Maryland as part
			of the effort.”</p> <p>In the 2022-23 season, Maryland watermen harvested about 720,000 bushels of oysters from
			public fishing areas — the largest-recorded harvest since the late '80s. It marks the second
			record-high year for a wild harvest in Maryland.</p> <h2>Is Rising Sea Temperature a New Threat?</h2> <p>With native oyster populations nearly depleted, aquaculture has become a vital source for
			hatching more oysters to support the industry.</p> <p>Winter is a critical season for those oyster hatcheries. During this time, adult shellfish are
			placed in warm, algae-rich water to induce spawning. Hatcheries collect the eggs, then hatch
			and grow the oysters, which are then sold to farmers for further cultivation.</p></div></div>`,1);function Wc(e,t){Ne(t,!1);const n="Year",r="Metric Tons",a="State";It.forEach(Y=>{Y.Year=+Y.Year,Y[r]=+Y[r]});const i=[...new Set(It.map(Y=>Y[a]))].map(Y=>({State:Y,values:It.filter(U=>U[a]===Y).map(U=>({[n]:U[n],[r]:U[r]}))})),o=It.filter(Y=>Y.State==="MARYLAND").map(Y=>Y.Year).sort((Y,U)=>Y-U),s=o.filter(Y=>Y%5===0),l=["#0077BE","#D9D9D9","#F4D35E"],c=Y=>Y.toString(),f=Y=>kr("~s")(Y);let u=ie(0);const d=["In Maryland, the estimated population of native eastern oysters hit a historic low in 2004, dropping to just 19 tons. This figure represents only 0.21% of the historical peak since 1950, according to my analysis of National Oceanic and Atmospheric Administration(NOAA) Fisheries data.","Maryland introduced the Oyster Restoration and Aquaculture Development Plan in 2010, which expanded oyster sanctuaries to help rebuild the Chesapeake Bays native oyster population.","Under the new plan, as of 2022, the Maryland government designated and deployed an additional 844.24 square kilometers of oyster sanctuaries—a 369.09% increase compared to the area before 2010, based on my analysis of the sanctuaries map published by MDNR. (Scroll down to see the map.)"];Ie();var g=Ic(),p=K(Re(g),6);Mc(p,{frontImgUrl:"./_img/oyster_frontpage.jpg",title:"The Black Oysterman Taking Half Shells From the Bar to the Block",description:"77 oyster restoration areas in the Chesapeake Bay are threatened by abnormal sea surface temperatures, according to my analysis."});var _=K(p,4),E=K($(_),4),b=$(E),N=$(b),I=_e(()=>[Math.min(...o),Math.max(...o)]),L=_e(()=>[0,Math.max(...It.map(Y=>Y["Metric Tons"]))]),M=_e(Ua);qs(N,{x:"Year",y:"Metric Tons",z:"State",get xDomain(){return h(I)},get yDomain(){return h(L)},get zScale(){return h(M)},zRange:l,data:i,padding:{top:20,right:30,bottom:40,left:50},children:(Y,U)=>{var J=Yc(),ee=Re(J);Hs(ee,{children:oo,$$slots:{default:(le,te)=>{const X=_e(()=>te.xScale),ne=_e(()=>te.height),j=_e(()=>te.xDomain);var xe=bc(),re=Re(xe);{var Q=ft=>{var Pt=Sc(),Ce=Re(Pt);W(()=>R(Ce,"x",h(X)(2010))),W(()=>R(Ce,"width",h(X)(h(j)[1])-h(X)(2010)));var dt=K(Ce);W(()=>R(dt,"x1",h(X)(2010))),W(()=>R(dt,"x2",h(X)(2010))),W(()=>{R(Ce,"height",h(ne)),R(dt,"y2",h(ne))}),V(ft,Pt)};De(re,ft=>{h(u)>=1&&ft(Q)})}var Wt=K(re);uc(Wt,{gridlines:!1,ticks:s,format:c,tickMarks:!0});var jt=K(Wt);mc(jt,{gridlines:!0,ticks:4,format:f});var Nn=K(jt);ac(Nn,{}),V(le,xe)}}});var H=K(ee,2);Js(H,{children:(le,te)=>{xc(le,{})},$$slots:{default:!0}}),V(Y,J)},$$slots:{default:!0}}),k(b);var A=K(b,2),se=$(A);za(se,{get value(){return h(u)},set value(Y){oe(u,Y)},children:(Y,U)=>{var J=mn(),ee=Re(J);je(ee,1,()=>d,Et,(H,le,te)=>{var X=Rc(),ne=$(X),j=$(ne),xe=$(j,!0);k(j),k(ne),k(X),W(()=>{at(X,"active",h(u)===te),ke(xe,h(le))}),V(H,X)}),V(Y,J)},$$slots:{default:!0},$$legacy:!0}),k(A),k(E);var B=K(E,4),q=$(B),F=$(q),S=K(F,2),z=K(S,2);k(q);var w=K(q,2),C=$(w);za(C,{get value(){return h(u)},set value(Y){oe(u,Y)},children:(Y,U)=>{var J=mn(),ee=Re(J);je(ee,0,()=>[["The first method typically includes the addition of oyster seed, such as “hatchery seed” or “wild seed planting” to increase the likelihood of restoration success.","The second effort involves using substrate materials to build oyster reefs in the bay, ideally through fresh shell planting. Oyster crews and aquaculturists recycle oyster shells from business, but there aren’t enough to meet the state’s projected restoration needs. As a result, dredged shells, mixed shells, or alternative materials such as stones, concrete, porcelain, or steel slag are commonly used instead."],["Before 2010, Maryland primarily relied on wild seed planting, dredged shell addition, and limited fresh shell planting to repair oyster beds. However, since 2010, hatchery seed has become the dominant method.","Once abundant throughout Chesapeake Bay, oysters historically covered a total area of 215350 acres. New restoration areas overlap with 72.76% of historic oyster beds. "],["By 2010, 43% of the historic oyster bed area was legally protected and designated for restoration, increasing to 46% by 2022."]],Et,(H,le,te)=>{var X=Ac(),ne=$(X);je(ne,5,()=>le,Et,(j,xe)=>{var re=Nc(),Q=$(re,!0);k(re),W(()=>ke(Q,h(xe))),V(j,re)}),k(ne),k(X),W(()=>at(X,"active",h(u)===te)),V(H,X)}),V(Y,J)},$$slots:{default:!0},$$legacy:!0}),k(w),k(B),so(2),k(_),W(()=>{at(F,"active",h(u)===0),at(S,"active",h(u)===1),at(z,"active",h(u)===2)}),V(e,g),Ae()}export{Wc as component};
